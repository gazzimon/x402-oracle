x402-oracleProgrammable Oracle Primitive for CronosCreated by www.fiui.org.arEnabling Execution-Grade Data and Agentic Finance on Cronos.1. Architecture OverviewSettlement, Computation, and MonetizationThis project redefines the role of oracles in the Cronos DeFi ecosystem through a three-layer architecture that cleanly separates capital settlement, decentralized computation, and economic incentives.üèõÔ∏è Settlement Layer ‚Äî CronosCronos is the gravity center where capital lives and moves. All DeFi execution‚ÄîVVS swaps, liquidity provision, lending, and downstream smart-contract actions‚Äîoccurs on Cronos. Cronos also serves as the final settlement layer for oracle outputs and per-request payments.For this MVP, Cronos consumes oracle results via a relayer-trusted settlement contract, optimized for gas efficiency and clarity. This design intentionally avoids heavy verification logic on the EVM while preserving public auditability.‚öôÔ∏è Computation Layer ‚Äî SEDA (Core)SEDA provides decentralized, chain-agnostic computation that transforms raw on-chain data into execution-grade metrics.In this MVP, the system uses SEDA Core, prioritizing correctness, determinism, and consensus finality over raw latency. Oracle programs execute fully decentralized logic and produce signed, consensus-finalized results that are publicly verifiable via the SEDA Explorer.Note: In a production deployment, this architecture can migrate to SEDA Fast, significantly reducing end-to-end latency while preserving the same programmable oracle interface and execution semantics.üí∞ Monetization Layer ‚Äî x402x402 introduces a pay-per-request model using the HTTP 402 standard. It converts oracle access into an explicit economic transaction settled on-chain, enabling:Sustainable oracle revenue driven by real usage.Fine-grained pricing for different levels of data richness.Native compatibility with autonomous agents and AI systems.This eliminates reliance on protocol-level oracle subsidies and aligns incentives from day one.2. The Problem: From Price Feeds to Execution-Grade MetricsTraditional oracles deliver spot prices or simple TWAPs. These signals lack context, are vulnerable to manipulation, and are insufficient for autonomous execution‚Äîespecially in environments exposed to flash loans and shallow liquidity.Autonomous agents and DeFi protocols do not need raw prices. They need decisions.This MVP is intentionally designed as a reference implementation: it demonstrates the potential and flexibility of a programmable oracle framework, not a one-size-fits-all feed. At its core, x402-oracle is an Oracle-as-a-Service, where each agent, vault, or protocol can define its own execution logic, risk model, and output schema.Customizable, Programmable Fair ValueInstead of publishing a universal price, the oracle computes a context-aware fair value using programmable logic:The valuation model is customizable per pool, per vault, or per agent.Risk assumptions and weighting can differ across use cases.All logic is executed deterministically and finalized by SEDA consensus.Actionable Pool Health Metrics (Execution-Ready)The oracle emits a compact, multidimensional payload explicitly designed for execution:JSON{
  "fair_price": 1.0234,
  "confidence_score": 0.98,
  "max_safe_execution_size": 150000,
  "flags": 0
}
FieldExecution Meaningfair_priceReference value for pricing or collateralizationconfidence_scoreReliability of the signal under current conditionsmax_safe_execution_sizeCapital sizing constraint derived from liquidity and slippageflagsMachine-readable risk conditions3. Oracle-as-a-Service: Seamless Delivery and ComposabilityFragmento de c√≥digoflowchart LR
    A[Request on Cronos<br/>Agent / Protocol]
    B[x402 Payment<br/>HTTP 402]
    C[SEDA Oracle Program<br/>Decentralized Computation]
    D[Relayer / Settlement Service]
    E[Cronos Consumer Contract]

    A --> B
    B --> C
    C --> D
    D --> E
4. Strategic Vision: Enabling Agentic Finance on CronosThis project is an enabling primitive for Agentic Finance on Cronos. By creating a marketplace for paid, verifiable, execution-grade DeFi intelligence, the system enables:Sustainability: Oracle revenue driven by real demand, not subsidies.Security: Reduced systemic risk when accepting LP tokens as collateral.Autonomy: AI agents that operate safely and profitably.üî¢ Output Format (Canonical)On-chain output is a fixed int256[4] array with 1e6 scale:values[0] = fair_pricevalues[1] = confidence_scorevalues[2] = max_safe_execution_sizevalues[3] = flags (bitmask)üß™ Output Formulas (WCRO-USDC)Pool (VVS V2): 0xE61Db569E231B3f5530168Aa2C9D50246525b6d6Let reserveUSDC and reserveWCRO be normalized reserves.Spot and Historical PricePlaintextspot_1e6 = (reserveUSDC_now * 1e18) / reserveWCRO_now
hist_1e6 = (reserveUSDC_hist * 1e18) / reserveWCRO_hist
Fair Price (Weighted)Plaintextfair_price_1e6 = (2 * spot_1e6 + hist_1e6) / 3
Liquidity Score (1e6)Plaintextliquidity_usdc = reserveUSDC_now * 2
L = 500_000 * 1e6
liq_score_1e6 = min(1e6, (liquidity_usdc * 1e6) / L)
Temporal Score (1e6)Plaintextdelta_1e6 = (abs(spot_1e6 - hist_1e6) * 1e6) / spot_1e6
time_score_1e6 = clamp(1e6 - (delta_1e6 * 1e6) / 50_000, 0, 1e6)
Confidence Score (60 / 40)Plaintextconfidence_1e6 = (600_000 * liq_score_1e6 + 400_000 * time_score_1e6) / 1_000_000
Max Safe Execution Size (1e6, USDC input)Using AMM V2 pricing, the maximum amountIn is found via bisection such that slippage < 1%:PlaintextamountOut = (amountIn * 997 * reserveOut) / (reserveIn * 1000 + amountIn * 997)
effective_price_1e6 = (amountIn * 1e18) / amountOut
slippage_1e6 = (abs(effective_price_1e6 - spot_1e6) * 1e6) / spot_1e6
Flags (values[3])bit0 (0x1) ‚Äî CRITICAL_DIVERGENCE if delta_1e6 > 50_000 (5%)bit1 (0x2) ‚Äî LOW_LIQUIDITY if liq_score_1e6 < 200_000bit2 (0x4) ‚Äî UNSAFE_CONFIDENCE if confidence_1e6 < 200_000üõ† Validation Checklist (Testnet)Oracle Program ID (SEDA Core): 0x61d26d8e7693b39a4296e1ecba45595bc7cdbbeecb1043c7034c8f99498f1504Data Request ID (SEDA): ba65b51684c798468ef9282cf245d96d45942beeec73a0b73c5c607ca768ed15SEDA Explorer: View Data RequestCronos Consumer Contract: 0xe0F946B25e4cce13FeF052cc76573fA8dF74D9D9Relayer Transaction: 0x383a...8576Observed Values (1e6 scale)values[0] = 102308 ‚Üí 0.102308 (fair_price)values[1] = 943288 ‚Üí 0.943288 (confidence_score)values[2] = 26581068577 ‚Üí 26581.068577 (max_safe_execution_size)values[3] = 0 (flags)License: This project is released under the MIT License.